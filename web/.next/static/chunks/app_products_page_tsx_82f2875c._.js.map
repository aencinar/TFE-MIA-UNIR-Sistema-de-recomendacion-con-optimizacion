{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/aencinar/Downloads/TFE-Sistema-de-recomendacion-de-productos-master/web/app/products/page.tsx"],"sourcesContent":["'use client';\n\nimport Image from \"next/image\";\nimport { useEffect, useState } from \"react\";\n\ntype Product = {\n  name: string;\n  price: number;\n  image?: string;\n  category: string;\n};\n\nconst CATEGORY_MAP: { [key: number]: string } = {\n    1: \"Aceite\", 2: \"Vinagre\", 3: \"Sal\", 4: \"Especias\", 5: \"Salsas\",\n    6: \"Bebidas sin alcohol\", 7: \"Bebidas con alcohol\", 8: \"Aperitivos\", 9: \"Arroz\", 10: \"Legumbre\",\n    11: \"Pasta\", 12: \"Dulces y pastelería\", 13: \"Comida preparada\", 14: \"Cacao, café, infusiones\",\n    15: \"Carne\", 16: \"Pescado\", 17: \"Cereales\", 18: \"Galletas\", 19: \"Charcutería\",\n    20: \"Quesos\", 21: \"Congelados\", 22: \"Conservas\", 23: \"Caldos y sopas\", 24: \"Cremas\",\n    25: \"Fruta\", 26: \"Verduras\", 27: \"Ensaladas\", 28: \"Huevos\", 29: \"Lácteos\",\n    30: \"Panadería\", 31: \"Pizzas\", 32: \"Zumos\", 33: \"Bicarbonato\", 34: \"Sazonador\", 35: \"Harina y masas\",\n    36: \"Comida mexicana\", 37: \"Comida oriental\", 38: \"Otros\", 39: \"Azúcar, edulcorantes, otros\",\n    40: \"Mermelada, membrillo, miel, otros\"\n};\n\nfunction getCategoryName(id: number | string) {\n  return CATEGORY_MAP[Number(id)] || \"Sin categoría\";\n}\n\nexport default function ProductsPage() {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedCategory, setSelectedCategory] = useState<string>(\"Todas\");\n\n  useEffect(() => {\n    const apiUrl = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\n    fetch(`${apiUrl}/api/catalog`)\n      .then(res => res.json())\n      .then(data => setProducts(data.products))\n      .catch(err => {\n        console.error(\"Error al obtener productos:\", err);\n        setProducts([]);\n      })\n      .finally(() => setLoading(false));\n  }, []);\n\n  if (loading) return <div className=\"text-center py-8\">Cargando productos...</div>;\n\n  const categories = [\"Todas\", ...Array.from(new Set(products.map(p => p.category)))];\n\n  const filteredProducts =\n    selectedCategory === \"Todas\"\n      ? products\n      : products.filter(p => p.category === selectedCategory);\n\n  return (\n    <div className=\"max-w-5xl mx-auto px-4\">\n      {/* Imagen cabecera */}\n      <div className=\"w-full flex justify-center mb-8\">\n        <Image\n          src=\"/productos_supermercado.jpg\"\n          alt=\"Persona eligiendo productos en un supermercado\"\n          width={900}\n          height={320}\n          className=\"rounded-2xl shadow-md object-cover h-56 w-full max-w-3xl\"\n          priority\n        />\n      </div>\n      <h1 className=\"text-3xl font-bold mb-6 text-center\">Catálogo de productos</h1>\n\n      {/* Selector de categoría */}\n      <div className=\"flex flex-wrap gap-3 justify-center mb-8\">\n        {categories.map(cat => (\n          <button\n            key={cat}\n            className={`px-4 py-2 rounded-full border \n              ${selectedCategory === cat ? 'bg-orange-100 border-orange-500 text-orange-700 font-bold' : 'bg-white border-gray-300 text-gray-700'}\n              transition-colors`}\n            onClick={() => setSelectedCategory(cat)}\n          >\n            {getCategoryName(cat)}\n          </button>\n        ))}\n      </div>\n\n      {/* Grid de productos */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-7\">\n        {filteredProducts.map((prod, i) => (\n          <div\n            key={i}\n            className=\"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-shadow p-6 flex flex-col items-center\"\n          >\n            {prod.image && (\n              <img\n                src={prod.image}\n                alt={prod.name}\n                className=\"w-24 h-24 object-cover mb-4 rounded-xl border\"\n              />\n            )}\n            <div className=\"font-semibold text-lg text-center mb-2\">{prod.name}</div>\n            <div className=\"text-orange-600 font-bold text-xl mt-auto\">\n              €{prod.price}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;AAkCmB;;AAhCnB;AACA;;;AAHA;;;AAYA,MAAM,eAA0C;IAC5C,GAAG;IAAU,GAAG;IAAW,GAAG;IAAO,GAAG;IAAY,GAAG;IACvD,GAAG;IAAuB,GAAG;IAAuB,GAAG;IAAc,GAAG;IAAS,IAAI;IACrF,IAAI;IAAS,IAAI;IAAuB,IAAI;IAAoB,IAAI;IACpE,IAAI;IAAS,IAAI;IAAW,IAAI;IAAY,IAAI;IAAY,IAAI;IAChE,IAAI;IAAU,IAAI;IAAc,IAAI;IAAa,IAAI;IAAkB,IAAI;IAC3E,IAAI;IAAS,IAAI;IAAY,IAAI;IAAa,IAAI;IAAU,IAAI;IAChE,IAAI;IAAa,IAAI;IAAU,IAAI;IAAS,IAAI;IAAe,IAAI;IAAa,IAAI;IACpF,IAAI;IAAmB,IAAI;IAAmB,IAAI;IAAS,IAAI;IAC/D,IAAI;AACR;AAEA,SAAS,gBAAgB,EAAmB;IAC1C,OAAO,YAAY,CAAC,OAAO,IAAI,IAAI;AACrC;AAEe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IAEjE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,SAAS,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI;YAClD,MAAM,GAAG,OAAO,YAAY,CAAC,EAC1B,IAAI;0CAAC,CAAA,MAAO,IAAI,IAAI;yCACpB,IAAI;0CAAC,CAAA,OAAQ,YAAY,KAAK,QAAQ;yCACtC,KAAK;0CAAC,CAAA;oBACL,QAAQ,KAAK,CAAC,+BAA+B;oBAC7C,YAAY,EAAE;gBAChB;yCACC,OAAO;0CAAC,IAAM,WAAW;;QAC9B;iCAAG,EAAE;IAEL,IAAI,SAAS,qBAAO,6LAAC;QAAI,WAAU;kBAAmB;;;;;;IAEtD,MAAM,aAAa;QAAC;WAAY,MAAM,IAAI,CAAC,IAAI,IAAI,SAAS,GAAG,CAAC,CAAA,IAAK,EAAE,QAAQ;KAAI;IAEnF,MAAM,mBACJ,qBAAqB,UACjB,WACA,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK;IAE1C,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,gIAAA,CAAA,UAAK;oBACJ,KAAI;oBACJ,KAAI;oBACJ,OAAO;oBACP,QAAQ;oBACR,WAAU;oBACV,QAAQ;;;;;;;;;;;0BAGZ,6LAAC;gBAAG,WAAU;0BAAsC;;;;;;0BAGpD,6LAAC;gBAAI,WAAU;0BACZ,WAAW,GAAG,CAAC,CAAA,oBACd,6LAAC;wBAEC,WAAW,CAAC;cACV,EAAE,qBAAqB,MAAM,8DAA8D,yCAAyC;+BACnH,CAAC;wBACpB,SAAS,IAAM,oBAAoB;kCAElC,gBAAgB;uBANZ;;;;;;;;;;0BAYX,6LAAC;gBAAI,WAAU;0BACZ,iBAAiB,GAAG,CAAC,CAAC,MAAM,kBAC3B,6LAAC;wBAEC,WAAU;;4BAET,KAAK,KAAK,kBACT,6LAAC;gCACC,KAAK,KAAK,KAAK;gCACf,KAAK,KAAK,IAAI;gCACd,WAAU;;;;;;0CAGd,6LAAC;gCAAI,WAAU;0CAA0C,KAAK,IAAI;;;;;;0CAClE,6LAAC;gCAAI,WAAU;;oCAA4C;oCACvD,KAAK,KAAK;;;;;;;;uBAZT;;;;;;;;;;;;;;;;AAmBjB;GA/EwB;KAAA","debugId":null}}]
}